<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>macOS 升级JDK至1.8 - yuluo</title><meta description="Macbook Pro原生自带的Java JDK版本是1.6，而有的时候需要高一点的版本，这时候就需要升级JDK的版本。 通过java -version可以查看当前的版本: 123Java version &amp;quot;1.6.0_65&amp;quot;Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468-11M4833)Java HotSpot(TM) 64-Bit"><meta property="og:type" content="article"><meta property="og:title" content="macOS 升级JDK至1.8"><meta property="og:url" content="yuluo-ding.github.io/2018/08/02/macOS-%E5%8D%87%E7%BA%A7JDK%E8%87%B31-8/"><meta property="og:site_name" content="yuluo"><meta property="og:description" content="Macbook Pro原生自带的Java JDK版本是1.6，而有的时候需要高一点的版本，这时候就需要升级JDK的版本。 通过java -version可以查看当前的版本: 123Java version &amp;quot;1.6.0_65&amp;quot;Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468-11M4833)Java HotSpot(TM) 64-Bit"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="/img/og_image.png"><meta property="article:published_time" content="2018-08-02T15:55:13.000Z"><meta property="article:modified_time" content="2020-04-09T07:12:59.092Z"><meta property="article:author" content="Luo Yu"><meta property="article:tag" content="Java"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"yuluo-ding.github.io/2018/08/02/macOS-%E5%8D%87%E7%BA%A7JDK%E8%87%B31-8/"},"headline":"yuluo","image":["/img/og_image.png"],"datePublished":"2018-08-02T15:55:13.000Z","dateModified":"2020-04-09T07:12:59.092Z","author":{"@type":"Person","name":"Luo Yu"},"description":"Macbook Pro原生自带的Java JDK版本是1.6，而有的时候需要高一点的版本，这时候就需要升级JDK的版本。 通过java -version可以查看当前的版本: 123Java version &quot;1.6.0_65&quot;Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468-11M4833)Java HotSpot(TM) 64-Bit"}</script><link rel="canonical" href="yuluo-ding.github.io/2018/08/02/macOS-%E5%8D%87%E7%BA%A7JDK%E8%87%B31-8/"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><meta name="generator" content="Hexo 5.1.1"></head><body class="is-1-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/" alt="yuluo" height="28"></a></div><div class="navbar-menu"><div class="navbar-end"></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-12"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-08-02T15:55:13.000Z" title="2018-08-02T15:55:13.000Z">2018-08-02</time>发表</span><span class="level-item"><time dateTime="2020-04-09T07:12:59.092Z" title="2020-04-09T07:12:59.092Z">2020-04-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/mac-OS/">mac OS</a></span></div></div><h1 class="title is-3 is-size-4-mobile">macOS 升级JDK至1.8</h1><div class="content"><p>Macbook Pro原生自带的Java JDK版本是1.6，而有的时候需要高一点的版本，这时候就需要升级JDK的版本。</p>
<p>通过<code>java -version</code>可以查看当前的版本:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Java version "1.6.0_65"</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468-11M4833)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<ol>
<li><p>首先去下载<a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java SE Developent Kit</a>，下载完成后安装上，安装好的jdk在这个位置:<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents</code></p>
</li>
<li><p>然后去苹果的官网下载最新的java版本 <a target="_blank" rel="noopener" href="https://support.apple.com/en-us/HT204036">Java From Apple</a>,下载完成安装上以后可以在 系统偏好设置–&gt;Java–&gt;Java控制面板 中查看Java相关的信息。</p>
</li>
<li><p>去JavaFramework索引目录下修改当前的jdk引用路径:<code>cd /System/Library/Frameworks/JavaVM.framework/Versions</code></p>
</li>
<li><p>移除旧的引用:<code>sudo rm CurrentJDK</code>，如果你的系统是新的<code>10.13</code>的话，会有提示：<code>rm: CurrentJDK: Operation not permitted</code>。</p>
<blockquote>
<p>这是因为<code>EI Capitan</code>加入了<code>Rootless机制</code>，不再能够随心所欲的读写很多路径下得内容了，即使是设置了<code>root</code>权限也不行。 苹果这样做也是为了用户的安全考虑，避免用户误删文件，当然也能够在一定程度下减小恶意软件对用户造成危害的几率。 但是这是我们自己需要这样的操作怎么办呢 ？苹果也考虑到了大家的需求，可以这么做：</p>
<p><strong>1).</strong> 重启电脑，在将要启动的时候按住 <code>Command + R</code>键，进入恢复模式； </p>
<p><strong>2).</strong> 选择菜单栏中得使用工具，在其中打开终端；</p>
<p><strong>3).</strong> 输入 <code>csrutil disable</code>，暂时关闭<code>Rootless</code>； </p>
<p><strong>4).</strong> 重启即可继续操作。</p>
<p><strong>5).</strong> 如果想要恢复，可以再次重启并进入终端，输入 <code>csrutil enable</code> 即可。</p>
</blockquote>
</li>
<li><p>删除 <code>CurrentJDK</code> 后，不要离开当前目录，添加新的jdk引用路径：<code>sudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents CurrentJDK</code></p>
</li>
</ol>
</div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Java/">Java</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/08/07/npm%E5%8D%87%E7%BA%A7%E6%89%80%E6%9C%89%E5%8F%AF%E6%9B%B4%E6%96%B0%E5%8C%85/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">npm升级所有可更新包</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/08/01/%E5%9B%BD%E5%86%85%E5%A4%96%E4%B8%BB%E6%B5%81android%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9C%8D%E5%8A%A1/"><span class="level-item">国内外主流android第三方服务</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><!--!--><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/" alt="yuluo" height="28"></a><p class="size-small"><span>&copy; 2020 Luo Yu</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'yuluo-ding.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><!--!--><script src="/js/main.js" defer></script><!--!--></body></html>